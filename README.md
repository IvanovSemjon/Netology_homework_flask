# REST API для доски объявлений

Flask приложение с системой авторизации для управления объявлениями.

## Функциональность

- Регистрация пользователей
- Создание объявлений (только авторизованные пользователи)
- Просмотр объявлений (без авторизации)
- Редактирование/удаление объявлений (только владелец)

## Установка и запуск

1. Установить зависимости:
```bash
pip install -r requirements.txt
```

2. Запустить сервер:
```bash
python server.py
```

3. Тестировать API:
```bash
python client.py
```

## API Endpoints

### Пользователи
- `POST /users` - регистрация пользователя
  ```json
  {"email": "user@example.com", "password": "password123"}
  ```

### Объявления
- `POST /ads` - создание объявления (требует авторизации)
  ```json
  {"title": "Заголовок", "text": "Описание"}
  ```
- `GET /ads/{id}` - получение объявления
- `PATCH /ads/{id}` - редактирование (только владелец)
- `DELETE /ads/{id}` - удаление (только владелец)

## Авторизация

Используется Basic Auth:
```
Authorization: Basic base64(email:password)
```

## Docker

Запуск в контейнере:
```bash
docker-compose up --build
```

## Структура проекта

- `server.py` - основное приложение Flask
- `models.py` - модели SQLAlchemy
- `schema.py` - схемы валидации Pydantic
- `client.py` - тестовый клиент
- `errors.py` - обработка ошибок